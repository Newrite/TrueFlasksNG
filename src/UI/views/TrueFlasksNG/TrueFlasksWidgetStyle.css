body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: transparent;
    width: 100vw;
    height: 100vh;
}

.ui-container {
    position: absolute;
    width: 500px;
    height: 500px;
    /* Initial position, will be updated by JS */
    top: 0;
    left: 0;
    transform-origin: top left;
}

.flask-group {
    position: absolute;
    width: 240px;
    height: 240px;
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0; /* Hidden by default until initialized */
}

.flask {
    width: 100%;
    height: 100%;
    
    /* Glow Animation Setup */
    --glow-color: white;
    animation: glowAnimation 4s infinite alternate ease-in-out;
    /* Default paused, JS will play it when needed */
    animation-play-state: paused; 
}

.flask-counter {
    position: absolute;
    top: 55%;
    left: 50%;
    transform: translate(-50%, -50%);
    
    font-family: 'Impact', 'Bahnschrift', sans-serif;
    font-weight: 400;
    font-size: 45px; /* Scaled from 90px in 484px viewBox to 240px container */
    
    color: white;
    /* Robust outline using multiple text-shadows (simulates stroke) */
    text-shadow: 
        -2px -2px 0 #000,  
         2px -2px 0 #000,
        -2px  2px 0 #000,
         2px  2px 0 #000,
        -2px  0   0 #000,
         2px  0   0 #000,
         0   -2px 0 #000,
         0    2px 0 #000,
         0    0   5px #000;
    
    pointer-events: none;
    user-select: none;
    letter-spacing: 1px;
    text-align: center;
    z-index: 10;
}

@keyframes glowAnimation {
    0%, 85% { 
        filter: drop-shadow(0 0 0 rgba(0,0,0,0)); 
    }
    100% { 
        /* 
           Using drop-shadow here. 
           Because we expand the SVG viewBox in JS, the flask content will be smaller 
           than the 240x240 object box. This allows the shadow to render 
           INSIDE the object box, preventing clipping by the game engine.
        */
        filter: drop-shadow(0 0 15px var(--glow-color)) drop-shadow(0 0 5px white);
    }
}

/* Positioning - Closer together (Spacing 100px from center instead of 120px) */
/* Center is 250, 250. Flask half-size is 120. */
/* Top: y = 250 - 100 - 120 = 30 */
/* Left: x = 250 - 100 - 120 = 30 */
/* Right: x = 250 + 100 - 120 = 230 */
/* Bottom: y = 250 + 100 - 120 = 230 */

.flask-top { top: 30px; left: 130px; }
.flask-left { top: 130px; left: 30px; }
.flask-right { top: 130px; left: 230px; }
.flask-bottom { top: 230px; left: 130px; }